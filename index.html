<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Queen Aahna</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:italic,wght@900&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --pink: #ff85a1; --dark-pink: #ff477e; --bg: #fff0f3; }
        
        body, html { 
            margin: 0; padding: 0; background: var(--bg); 
            font-family: 'Poppins', sans-serif; overflow-x: hidden; 
            scroll-behavior: smooth; -webkit-tap-highlight-color: transparent;
        }

        /* --- NEXT-LEVEL ANIMATIONS --- */
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(2deg); } }
        @keyframes shimmer { from { background-position: -200%; } to { background-position: 200%; } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .section { min-height: 100vh; display: flex; flex-direction: column; align-items: center; text-align: center; padding: 20px 0; }
        #gift-page { justify-content: center; }
        
        /* --- 3D INTERACTIVE GIFT --- */
        .gift-container { perspective: 1000px; cursor: pointer; animation: float 4s ease-in-out infinite; }
        .gift-box { width: 150px; height: 150px; background: var(--dark-pink); position: relative; transform-style: preserve-3d; box-shadow: 0 20px 60px rgba(255, 71, 126, 0.4); border-radius: 12px; }
        .lid { width: 170px; height: 45px; background: var(--pink); position: absolute; top: -12px; left: -10px; z-index: 10; border-radius: 8px; transition: all 1.2s cubic-bezier(0.68, -0.6, 0.32, 1.6); }

        /* --- REALISTIC PHYSICS CAKE --- */
        #cake-section { display: none; justify-content: flex-start; padding-top: 8vh; }
        .cake-wrapper { position: relative; width: 210px; height: 180px; cursor: pointer; margin-top: 15px; }
        .cake-side { width: 105px; height: 110px; background: #ffe5ec; position: absolute; bottom: 0; transition: all 1.5s cubic-bezier(0.2, 0.8, 0.2, 1); border-bottom: 8px solid #f08080; }
        .cake-left { left: 0; border-radius: 15px 0 0 15px; }
        .cake-right { left: 105px; border-radius: 0 15px 15px 0; }
        .candle { width: 10px; height: 50px; background: linear-gradient(to bottom, var(--dark-pink), #fff); position: absolute; top: -50px; left: 100px; z-index: 5; }
        .flame { width: 18px; height: 28px; background: #ffb703; border-radius: 50% 50% 20% 20%; position: absolute; top: -28px; left: -4px; box-shadow: 0 0 20px #ffb703; }

        /* --- GLASS UI & SLIDESHOW --- */
        .glass-card { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); border-radius: 35px; padding: 30px 20px; width: 88%; max-width: 450px; margin-top: 30px; border: 1px solid rgba(255,255,255,0.5); box-shadow: 0 25px 50px rgba(0,0,0,0.1); }
        .photo-frame { width: 100%; height: 500px; border-radius: 25px; overflow: hidden; position: relative; margin-bottom: 20px; }
        .slide { width: 100%; height: 100%; object-fit: cover; position: absolute; opacity: 0; transition: 2s ease-in-out; }

        /* --- TYPING EFFECT STYLES --- */
        .typing-box { text-align: left; font-size: 1.1rem; line-height: 1.7; color: #444; min-height: 150px; font-weight: 300; margin-top: 15px; }
        .cursor { display: inline-block; width: 3px; height: 1.2em; background-color: var(--dark-pink); margin-left: 2px; vertical-align: middle; animation: blink 0.8s infinite; }
        .shimmer-text { background: linear-gradient(90deg, var(--dark-pink), #fff, var(--dark-pink)); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shimmer 3s linear infinite; font-weight: 900; }
        .btn { background: var(--dark-pink); color: white; border: none; padding: 18px 45px; border-radius: 50px; font-weight: 600; cursor: pointer; margin-top: 20px; box-shadow: 0 10px 20px rgba(255,71,126,0.3); }
    </style>
</head>
<body>

    <audio id="bdayMusic" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <div class="section" id="gift-page">
        <h1 class="shimmer-text" style="font-family: 'Dancing Script'; font-size: 3.2rem;">For My Dearest Aahna...</h1>
        <div class="gift-container" onclick="openBox()">
            <div class="lid" id="boxLid"></div>
            <div class="gift-box"></div>
        </div>
        <p style="margin-top: 50px; color: #aaa; letter-spacing: 3px; font-size: 0.8rem;">TAP TO UNWRAP</p>
    </div>

    <div class="section" id="cake-section">
        <h2 id="cake-msg" style="font-family: 'Dancing Script'; font-size: 2.8rem; color: var(--dark-pink); margin-bottom: 5px;">Make a wish, Aahna...</h2>
        <div class="cake-wrapper" onclick="cutCake()">
            <div class="candle" id="candle"><div class="flame"></div></div>
            <div class="cake-side cake-left" id="leftCake"></div>
            <div class="cake-side cake-right" id="rightCake"></div>
        </div>
        <div id="message-area" style="display:none;" class="glass-card">
            <div class="shimmer-text" style="font-size: 4rem; font-family: 'Playfair Display';">18 üî•</div>
            <button class="btn" onclick="startMemories()">See Our Memories</button>
        </div>
    </div>

    <div class="section" id="slideshow-section" style="display:none; height: auto;">
        <div class="glass-card">
            <div class="photo-frame">
                <img src="aahna1.jpg" class="slide">
                <img src="aahna2.jpg" class="slide">
                <img src="aahna3.jpg" class="slide">
                <img src="aahna4.jpg" class="slide">
                <img src="aahna5.jpg" class="slide">
                <img src="aahna6.jpg" class="slide">
                <img src="aahna7.jpg" class="slide">
                <img src="aahna8.jpg" class="slide">
                <img src="aahna9.jpg" class="slide">
                <img src="aahna10.jpg" class="slide">
                <img src="aahna11.jpg" class="slide">
                <img src="aahna12.jpg" class="slide">
            </div>
            
            <div class="typing-box">
                <span id="typed-text"></span><span class="cursor"></span>
            </div>
            <p style="font-family: 'Dancing Script'; font-size: 2.2rem; color: var(--dark-pink); margin-top: 25px;">Always & Forever ‚ù§Ô∏è</p>
        </div>
    </div>

    <script>
        const message = "To my sweetheart happy birthday meri betu ü´Ç my sweetheart turned 18 yayyyyy aul ab toh legal age to marry is 18 toh ü´£ü´£\n\nHappiest birthday to you shona and keep shining ese hi bhagwanji apki health ko hmesha thik rkhe aur ap hmesha khush rho\n\nMuaahhhhhhh üòò\n\nI love you aanu ‚ú®Ô∏è‚ù§Ô∏è\n\nWarmest wishes for your birthday üéÇ ü•≥\n\nFrom aaru üê•";

        function openBox() {
            document.getElementById('bdayMusic').play().catch(() => {});
            document.getElementById('boxLid').style.transform = 'translateY(-250px) rotateX(45deg) scale(0)';
            setTimeout(() => {
                document.getElementById('gift-page').style.display = 'none';
                document.getElementById('cake-section').style.display = 'flex';
            }, 800);
        }

        function cutCake() {
            document.querySelector('.flame').style.display = 'none';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.3 } });
            document.getElementById('leftCake').style.transform = 'translateX(-80px) translateY(20px) rotate(-15deg)';
            document.getElementById('rightCake').style.transform = 'translateX(80px) translateY(20px) rotate(15deg)';
            document.getElementById('candle').style.opacity = '0';
            document.getElementById('cake-msg').innerText = "Happy Birthday, Baby Girl!";
            setTimeout(() => { document.getElementById('message-area').style.display = 'block'; }, 800);
        }

        let slideIdx = 0;
        function startMemories() {
            document.getElementById('slideshow-section').style.display = 'flex';
            runSlides();
            window.scrollTo({ top: document.getElementById('slideshow-section').offsetTop, behavior: 'smooth' });
            setTimeout(typeWriter, 1500); // Start typing after slideshow starts
        }

        function runSlides() {
            let slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) { slides[i].style.opacity = "0"; }
            slideIdx++;
            if (slideIdx > slides.length) { slideIdx = 1; }
            slides[slideIdx-1].style.opacity = "1";
            setTimeout(runSlides, 4000);
        }

        let charIdx = 0;
        function typeWriter() {
            if (charIdx < message.length) {
                let char = message.charAt(charIdx);
                document.getElementById('typed-text').innerHTML += char === "\n" ? "<br>" : char;
                charIdx++;
                setTimeout(typeWriter, 55); // Speed of typing
            } else {
                document.querySelector('.cursor').style.display = 'none';
            }
        }
    </script>
</body>
</html>
