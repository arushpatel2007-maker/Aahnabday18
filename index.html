<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Queen Aahna</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --pink: #ff85a1; --dark-pink: #ff477e; --bg: #fff0f3; }
        body, html { margin: 0; padding: 0; background: var(--bg); font-family: sans-serif; overflow-x: hidden; }
        .section { min-height: 100vh; display: flex; flex-direction: column; align-items: center; text-align: center; padding: 10px; }
        
        /* Gift Section */
        .gift-box { width: 140px; height: 140px; background: var(--dark-pink); position: relative; margin-top: 50px; border-radius: 10px; }
        .lid { width: 160px; height: 40px; background: var(--pink); position: absolute; top: -10px; left: -10px; transition: 1s; border-radius: 5px; }

        /* Cake Section */
        #cake-section { display: none; }
        .cake { width: 180px; height: 120px; background: #ffe5ec; margin: 20px auto; position: relative; border-bottom: 5px solid #f08080; border-radius: 10px; }
        .candle { width: 10px; height: 40px; background: #fff; position: absolute; top: -40px; left: 85px; border-top: 5px solid var(--dark-pink); }

        /* THE GOD-LEVEL PHOTO FIX */
        .glass-card { background: #fff; border-radius: 25px; padding: 15px; width: 92%; margin-top: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .photo-container { 
            width: 100%; 
            height: 70vh; /* Takes up 70% of the screen height */
            display: flex; 
            justify-content: center; 
            align-items: center; 
            overflow: hidden; 
            position: relative; 
            background: #fff;
        }
        .slide { 
            max-width: 100%; 
            max-height: 100%; 
            object-fit: contain !important; /* Forces the whole photo to show */
            position: absolute; 
            opacity: 0; 
            transition: 1.2s ease-in-out; 
        }

        .typing-box { text-align: left; font-size: 1.05rem; line-height: 1.6; color: #333; margin-top: 15px; padding: 10px; }
        .btn { background: var(--dark-pink); color: white; border: none; padding: 15px 35px; border-radius: 30px; margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>
    <audio id="bdayMusic" loop><source src="music.mp3" type="audio/mpeg"></audio>

    <div class="section" id="gift-page">
        <h1 style="color: var(--dark-pink);">For Aahna...</h1>
        <div class="gift-box" onclick="openBox()"><div class="lid" id="boxLid"></div></div>
    </div>

    <div class="section" id="cake-section">
        <h2 style="color: var(--dark-pink);">Make a wish!</h2>
        <div class="cake" onclick="cutCake()"><div class="candle" id="candle"></div></div>
        <div id="message-area" style="display:none;" class="glass-card">
            <h1 style="font-size: 3rem; color: var(--dark-pink);">18 ðŸ”¥</h1>
            <button class="btn" onclick="startMemories()">See Our Memories</button>
        </div>
    </div>

    <div class="section" id="slideshow-section" style="display:none;">
        <div class="glass-card">
            <div class="photo-container">
                <img src="aahna1.jpg" class="slide">
                <img src="aahna2.jpg" class="slide">
                <img src="aahna3.jpg" class="slide">
                <img src="aahna4.jpg" class="slide">
                <img src="aahna5.jpg" class="slide">
                <img src="aahna6.jpg" class="slide">
                <img src="aahna7.jpg" class="slide">
                <img src="aahna8.jpg" class="slide">
                <img src="aahna9.jpg" class="slide">
                <img src="aahna10.jpg" class="slide">
                <img src="aahna11.jpg" class="slide">
                <img src="aahna12.jpg" class="slide">
            </div>
            <div class="typing-box"><span id="typed-text"></span></div>
        </div>
    </div>

    <script>
        const message = "To my sweetheart happy birthday meri betu ðŸ«‚ my sweetheart turned 18 yayyyyy aul ab toh legal age to marry is 18 toh ðŸ«£ðŸ«£\n\nHappiest birthday to you shona and keep shining ese hi bhagwanji apki health ko hmesha thik rkhe aur ap hmesha khush rho\n\nMuaahhhhhhh ðŸ˜˜\n\nI love you aanu âœ¨ï¸â¤ï¸\n\nWarmest wishes for your birthday ðŸŽ‚ ðŸ¥³\n\nFrom aaru ðŸ¥";

        function openBox() {
            document.getElementById('bdayMusic').play().catch(() => {});
            document.getElementById('boxLid').style.transform = 'translateY(-150px) opacity(0)';
            setTimeout(() => { document.getElementById('gift-page').style.display = 'none'; document.getElementById('cake-section').style.display = 'flex'; }, 800);
        }

        function cutCake() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.3 } });
            document.getElementById('candle').style.display = 'none';
            setTimeout(() => { document.getElementById('message-area').style.display = 'block'; }, 500);
        }

        let slideIdx = 0;
        function startMemories() {
            document.getElementById('slideshow-section').style.display = 'flex';
            runSlides();
            window.scrollTo({ top: document.getElementById('slideshow-section').offsetTop, behavior: 'smooth' });
            setTimeout(typeWriter, 1000);
        }

        function runSlides() {
            let slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) { slides[i].style.opacity = "0"; }
            slideIdx++;
            if (slideIdx > slides.length) { slideIdx = 1; }
            slides[slideIdx-1].style.opacity = "1";
            setTimeout(runSlides, 4000);
        }

        let charIdx = 0;
        function typeWriter() {
            if (charIdx < message.length) {
                let char = message.charAt(charIdx);
                document.getElementById('typed-text').innerHTML += char === "\n" ? "<br>" : char;
                charIdx++;
                setTimeout(typeWriter, 50);
            }
        }
    </script>
</body>
</html>
